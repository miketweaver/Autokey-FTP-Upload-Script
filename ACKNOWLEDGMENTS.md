While I wrote this script on my own, I did base much of it off this post at Unix.com

http://www.unix.com/302841243-post3.html